<script>
$( document ).ready(function() {
	
	
	var store_id = localStorage.getItem("editStoreID");
	var store_name = localStorage.getItem("editStoreName");
	var departure_id = localStorage.getItem("editDepartureID");
	var departure_name = localStorage.getItem("editDepartureName");
	var departure_type_id = localStorage.getItem("editDepartureTypeID");
	var country = localStorage.getItem("editCountry");
	var server = localStorage.getItem("editServer");
	var editWbl_id = localStorage.getItem("editWbl_id");
	var editWbl_name = localStorage.getItem("editWbl_name");

selectContent(store_id,store_name,departure_id,departure_name,departure_type_id,country,server,editWbl_id,editWbl_name);

});


function selectContent(store_id,store_name,departure_id,departure_name,departure_type_id,country,server,editWbl_id,editWbl_name){
	
	//Es wird eine Verzoegerung ben√∂tigt, da der Content sonst nicht immer gesetzt wird	
		setTimeout(wait, 20);
	
		function wait(){
				//Beim setzen der richtigen Abteilung existiert gerade noch ein Fehler...
				//alert(editWbl_id);
			  //$('#editSelectDeparture_WBL').val(editWbl_id);
			  editDepartureForm.editServer.value=server;
			  editDepartureForm.editStoreId.value=store_id;
			  editDepartureForm.editDepartureId.value=departure_id;			  
			  editDepartureForm.editDepartureTypeId.value=departure_type_id;			  
			  
			  showContentStoreDeparture(country,store_name,departure_name);
			  
			}			
}


function showContentStoreDeparture(country,store_name,departure_name) {
$( "p" ).html("");
$( "p" ).append("Land: " + country);
$( "p" ).append("<br>");
$( "p" ).append("Markt: " + store_name);
$( "p" ).append("<br>");
$( "p" ).append("Abteilung: " + departure_name);
}


function showServerContent() {
	 
	editDepartureForm.editServer.value='';	 
	
	 if($( "#editSelectDeparture_WBL option:selected").text() == "Bitte WBL auswaehlen"){
		 
		 	 document.getElementById('divEditServer').style.display = 'none';
		   	 document.getElementById('divEditWriteDepartureToStoreInDB').style.display = 'none';
  }
	 else{
		 	 document.getElementById('divEditServer').style.display = '';
		   	 document.getElementById('divEditWriteDepartureToStoreInDB').style.display = 'none';
	}
	 
	
}

function showEditSaveButton() {
	 
	if ( document.getElementById('editServer').value.length <= 0) {

		   	 document.getElementById('divEditWriteDepartureToStoreInDB').style.display = 'none';
	}
	 else{
		   	 document.getElementById('divEditWriteDepartureToStoreInDB').style.display = '';
	}
	 
	
}



</script>

<h1 class="page-header">Abteilung updaten</h1>
 <p></p>
<form name="editDepartureForm" role="form">
<div id="divEditWBL">
<h3>Warenbereichsleiter</h3>
 		  <select id="editSelectDeparture_WBL" class="form-control" onchange="showServerContent()"></select>
</div>		  
<div id="divEditServer">          
<h3>Serveradresse</h3>
           <input type="text" name="editServer" id="editServer" class="form-control" oninput="showEditSaveButton()" />
</div>
<div id="divEditWriteDepartureToStoreInDB">   		     
<h5>Store ID</h5>
            <input type="text" name="editStoreId" id="editStoreId" class="form-control" readonly />   	
<h5>Departure ID</h5>
             <input type="text" name="editDepartureId" id="editDepartureId" class="form-control" readonly />
<h5>Departure_type ID</h5>
             <input type="text" name="editDepartureTypeId" id="editDepartureTypeId" class="form-control" readonly />
<br><br>
	<button type="button" id="btnEditDepartureToStoreInDB" class="btn btn-default btn-lg">Abteilung updaten</button>
</div>
</form>



<!-- Custom Theme JavaScript -->
<script src="js/DeparturesStores.js"></script>